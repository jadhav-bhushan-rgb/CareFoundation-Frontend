{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_company/CareFoundation/Care-Foundation-Frontend/src/app/login/page.jsx"],"sourcesContent":["\"use client\";\nimport { useEffect } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport AuthForm from \"@/components/AuthForm\";\nimport useAuthStore from \"@/store/authStore\";\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { isAuthenticated, user } = useAuthStore();\n\n  useEffect(() => {\n    console.log(\"=== LOGIN PAGE: REDIRECT CHECK ===\");\n    console.log(\"isAuthenticated:\", isAuthenticated);\n    console.log(\"user:\", user);\n    \n    if (isAuthenticated && user) {\n      // Check if there's a redirect parameter\n      const redirectUrl = searchParams.get('redirect');\n      console.log(\"Redirect URL from params:\", redirectUrl);\n      \n      if (redirectUrl) {\n        console.log(\"Redirecting to:\", redirectUrl);\n        router.push(redirectUrl);\n      } else {\n        // Default redirect based on role\n        console.log(\"No redirect param, default redirect based on role:\", user.role);\n        if (user.role === \"admin\") {\n          console.log(\"Redirecting to /admin\");\n          router.push(\"/admin\");\n        } else {\n          console.log(\"Redirecting to /dashboard\");\n          router.push(\"/dashboard\");\n        }\n      }\n    }\n  }, [isAuthenticated, user, router, searchParams]);\n\n  if (isAuthenticated) {\n    return null; // Will redirect\n  }\n\n  return <AuthForm />;\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,GAAG,IAAA,uIAAY;IAE9C,IAAA,0KAAS;+BAAC;YACR,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC,oBAAoB;YAChC,QAAQ,GAAG,CAAC,SAAS;YAErB,IAAI,mBAAmB,MAAM;gBAC3B,wCAAwC;gBACxC,MAAM,cAAc,aAAa,GAAG,CAAC;gBACrC,QAAQ,GAAG,CAAC,6BAA6B;gBAEzC,IAAI,aAAa;oBACf,QAAQ,GAAG,CAAC,mBAAmB;oBAC/B,OAAO,IAAI,CAAC;gBACd,OAAO;oBACL,iCAAiC;oBACjC,QAAQ,GAAG,CAAC,sDAAsD,KAAK,IAAI;oBAC3E,IAAI,KAAK,IAAI,KAAK,SAAS;wBACzB,QAAQ,GAAG,CAAC;wBACZ,OAAO,IAAI,CAAC;oBACd,OAAO;wBACL,QAAQ,GAAG,CAAC;wBACZ,OAAO,IAAI,CAAC;oBACd;gBACF;YACF;QACF;8BAAG;QAAC;QAAiB;QAAM;QAAQ;KAAa;IAEhD,IAAI,iBAAiB;QACnB,OAAO,MAAM,gBAAgB;IAC/B;IAEA,qBAAO,6LAAC,4IAAQ;;;;;AAClB;GArCwB;;QACP,kJAAS;QACH,wJAAe;QACF,uIAAY;;;KAHxB","debugId":null}}]
}