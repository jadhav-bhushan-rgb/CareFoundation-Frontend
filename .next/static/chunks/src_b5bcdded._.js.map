{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_company/CareFoundation/Care-Foundation-Frontend/src/components/user/UserSidebar.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport {\r\n  BiGrid,\r\n  BiRupee,\r\n  BiCode,\r\n  BiUser,\r\n  BiHome,\r\n  BiLogOut,\r\n  BiChevronDown,\r\n} from \"react-icons/bi\";\r\nimport useAuthStore from \"@/store/authStore\";\r\n\r\nconst sidebarData = {\r\n  main: [\r\n    { title: \"User Dashboard\", icon: <BiGrid />, href: \"/dashboard\" },\r\n  ],\r\n  supportUs: [\r\n    {\r\n      title: \"Support Us\",\r\n      icon: <BiRupee />,\r\n      children: [\r\n        { title: \"My Donation History\", href: \"/my-donations\" },\r\n      ],\r\n    },\r\n  ],\r\n  couponSection: [\r\n    {\r\n      title: \"Coupon Section\",\r\n      icon: <BiCode />,\r\n      children: [\r\n        { title: \"Unused Coupons\", href: \"/redeem-coupon\" },\r\n        { title: \"Used Donated Coupons\", href: \"/redeem-coupon?used=true\" },\r\n      ],\r\n    },\r\n  ],\r\n  profile: [\r\n    { title: \"My Profile\", icon: <BiUser />, href: \"/profile\", type: \"link\" },\r\n    { title: \"Front Side\", icon: <BiHome />, href: \"/\", type: \"link\" },\r\n    { title: \"Log Out\", icon: <BiLogOut />, href: \"#\", type: \"button\" },\r\n  ],\r\n};\r\n\r\nexport default function UserSidebar() {\r\n  const [openMenus, setOpenMenus] = useState({\r\n    \"Support Us\": true,\r\n    \"Coupon Section\": false,\r\n  });\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const { logout } = useAuthStore();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  const toggleMenu = (title) => {\r\n    setOpenMenus((prev) => ({ ...prev, [title]: !prev[title] }));\r\n  };\r\n\r\n  const isActive = (href) => {\r\n    if (href === \"/dashboard\") {\r\n      return pathname === \"/dashboard\";\r\n    }\r\n    return pathname === href || pathname?.startsWith(href);\r\n  };\r\n\r\n  const renderMenuItem = (item) => {\r\n    if (item.children) {\r\n      const isOpen = openMenus[item.title];\r\n      return (\r\n        <li key={item.title}>\r\n          <button\r\n            className=\"flex items-center justify-between w-full px-4 py-3 text-left rounded-md hover:bg-gray-50 transition-colors duration-200 group\"\r\n            onClick={() => toggleMenu(item.title)}\r\n          >\r\n            <span className=\"flex items-center gap-3\">\r\n              <span className=\"inline-block text-gray-600 group-hover:text-green-600 text-lg\">\r\n                {item.icon}\r\n              </span>\r\n              <span className=\"text-sm font-medium text-gray-700 group-hover:text-gray-900\">\r\n                {item.title}\r\n              </span>\r\n            </span>\r\n            <span\r\n              className={`transition-transform duration-200 inline-block text-gray-400 ${\r\n                isOpen ? \"rotate-180\" : \"\"\r\n              }`}\r\n            >\r\n              <BiChevronDown />\r\n            </span>\r\n          </button>\r\n          {isOpen && (\r\n            <ul className=\"pl-11 mt-1 space-y-1\">\r\n              {item.children.map((child) => {\r\n                const childActive = isActive(child.href);\r\n                return (\r\n                  <li key={child.title}>\r\n                    <Link\r\n                      href={child.href}\r\n                      className={`flex items-center gap-2 px-3 py-2 rounded-md text-sm transition-colors duration-200 ${\r\n                        childActive\r\n                          ? \"bg-green-50 text-green-600 font-semibold\"\r\n                          : \"text-gray-600 hover:bg-gray-50 hover:text-green-600\"\r\n                      }`}\r\n                    >\r\n                      <span\r\n                        className={`w-2 h-2 rounded-full ${\r\n                          childActive ? \"bg-green-600\" : \"bg-gray-300\"\r\n                        }`}\r\n                      ></span>\r\n                      {child.title}\r\n                    </Link>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          )}\r\n        </li>\r\n      );\r\n    }\r\n\r\n    const active = isActive(item.href);\r\n    \r\n    if (item.type === \"button\") {\r\n      return (\r\n        <li key={item.title}>\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"flex items-center gap-3 px-4 py-3 rounded-md transition-colors duration-200 group w-full text-left text-gray-700 hover:bg-gray-50 hover:text-red-600\"\r\n          >\r\n            <span className=\"inline-block text-lg text-gray-500 group-hover:text-red-600\">\r\n              {item.icon}\r\n            </span>\r\n            <span className=\"text-sm font-medium\">{item.title}</span>\r\n          </button>\r\n        </li>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <li key={item.title}>\r\n        <Link\r\n          href={item.href || \"#\"}\r\n          className={`flex items-center gap-3 px-4 py-3 rounded-md transition-colors duration-200 group ${\r\n            active\r\n              ? \"bg-green-100 text-green-700 font-semibold\"\r\n              : \"text-gray-700 hover:bg-gray-50 hover:text-green-600\"\r\n          }`}\r\n        >\r\n          <span\r\n            className={`inline-block text-lg ${\r\n              active ? \"text-green-600\" : \"text-gray-500 group-hover:text-green-600\"\r\n            }`}\r\n          >\r\n            {item.icon}\r\n          </span>\r\n          <span className=\"text-sm font-medium\">{item.title}</span>\r\n        </Link>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <aside className=\"w-64 min-h-screen bg-white border-r border-gray-200 fixed left-0 top-16 overflow-y-auto\">\r\n      <div className=\"py-4\">\r\n        {/* Main Dashboard */}\r\n        <ul className=\"space-y-1 mb-6 px-3\">\r\n          {sidebarData.main.map((item) => renderMenuItem(item))}\r\n        </ul>\r\n\r\n        {/* Support Us Section */}\r\n        <ul className=\"space-y-1 mb-6 px-3\">\r\n          {sidebarData.supportUs.map((item) => renderMenuItem(item))}\r\n        </ul>\r\n\r\n        {/* Coupon Section */}\r\n        <ul className=\"space-y-1 mb-6 px-3\">\r\n          {sidebarData.couponSection.map((item) => renderMenuItem(item))}\r\n        </ul>\r\n\r\n        {/* Profile Section */}\r\n        <div className=\"px-4 mb-3\">\r\n          <h3 className=\"text-xs font-bold text-gray-500 uppercase tracking-wider\">\r\n            PROFILE SECTION\r\n          </h3>\r\n        </div>\r\n        <ul className=\"space-y-1 px-3\">\r\n          {sidebarData.profile.map((item) => renderMenuItem(item))}\r\n        </ul>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 370, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_company/CareFoundation/Care-Foundation-Frontend/src/components/user/UserHeader.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { BiChevronDown, BiMenu } from \"react-icons/bi\";\r\nimport Link from \"next/link\";\r\nimport useAuthStore from \"@/store/authStore\";\r\n\r\nexport default function UserHeader() {\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  const { user, logout } = useAuthStore();\r\n\r\n  const handleToggleDropdown = () => setDropdownOpen(!dropdownOpen);\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    window.location.href = \"/login\";\r\n  };\r\n\r\n  const getInitials = (name) => {\r\n    if (!name) return \"U\";\r\n    const names = name.split(\" \");\r\n    if (names.length >= 2) {\r\n      return (names[0][0] + names[1][0]).toUpperCase();\r\n    }\r\n    return name[0].toUpperCase();\r\n  };\r\n\r\n  return (\r\n    <header className=\"fixed top-0 left-0 right-0 h-16 bg-blue-50 flex items-center justify-between px-6 shadow-sm z-40 border-b border-gray-200\">\r\n      {/* Left Side - Logo and Hamburger */}\r\n      <div className=\"flex items-center gap-3\">\r\n        <span className=\"text-green-600 text-xl\">üå±</span>\r\n        <h1 className=\"text-lg font-bold text-blue-900\">Care Foundation Trust</h1>\r\n        <button className=\"ml-4 text-gray-600 hover:text-gray-900\">\r\n          <BiMenu className=\"text-2xl\" />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Right Side - User Profile */}\r\n      <div className=\"relative\">\r\n        <button\r\n          onClick={handleToggleDropdown}\r\n          className=\"flex items-center gap-3 focus:outline-none hover:bg-white/50 rounded-lg px-3 py-2 transition-colors\"\r\n        >\r\n          <div className=\"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center\">\r\n            <span className=\"text-white font-bold text-sm\">\r\n              {user?.avatar ? (\r\n                <img src={user.avatar} alt={user.name} className=\"w-full h-full rounded-full object-cover\" />\r\n              ) : (\r\n                getInitials(user?.name || \"User\")\r\n              )}\r\n            </span>\r\n          </div>\r\n          <span className=\"text-gray-900 font-semibold text-sm hidden md:block\">\r\n            {user?.name || \"User\"}\r\n          </span>\r\n          <BiChevronDown className={`text-gray-400 transition-transform ${dropdownOpen ? 'rotate-180' : ''}`} />\r\n        </button>\r\n\r\n        {dropdownOpen && (\r\n          <ul className=\"absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-xl shadow-xl py-2 z-50\">\r\n            <li className=\"px-5 py-3 border-b border-gray-100\">\r\n              <h6 className=\"font-semibold text-gray-900\">\r\n                {user?.name || \"User\"}\r\n              </h6>\r\n              <span className=\"text-gray-500 text-xs block mt-1\">\r\n                {user?.email || \"user@example.com\"}\r\n              </span>\r\n            </li>\r\n\r\n            <li>\r\n              <Link\r\n                href=\"/profile\"\r\n                className=\"flex items-center gap-3 px-5 py-3 hover:bg-blue-50 transition-colors duration-200\"\r\n                onClick={() => setDropdownOpen(false)}\r\n              >\r\n                <span className=\"text-gray-600 text-lg\">üë§</span>\r\n                <span className=\"text-gray-700 font-medium text-sm\">\r\n                  My Profile\r\n                </span>\r\n              </Link>\r\n            </li>\r\n\r\n            <li>\r\n              <Link\r\n                href=\"/\"\r\n                className=\"flex items-center gap-3 px-5 py-3 hover:bg-blue-50 transition-colors duration-200\"\r\n                onClick={() => setDropdownOpen(false)}\r\n              >\r\n                <span className=\"text-gray-600 text-lg\">üè†</span>\r\n                <span className=\"text-gray-700 font-medium text-sm\">\r\n                  Front Side\r\n                </span>\r\n              </Link>\r\n            </li>\r\n\r\n            <li>\r\n              <button\r\n                onClick={handleLogout}\r\n                className=\"flex items-center gap-3 px-5 py-3 hover:bg-red-50 transition-colors duration-200 text-red-600 w-full text-left\"\r\n              >\r\n                <span className=\"text-lg\">üö™</span>\r\n                <span className=\"font-medium text-sm\">\r\n                  Log Out\r\n                </span>\r\n              </button>\r\n            </li>\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;;;AAJA;;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,uIAAY;IAErC,MAAM,uBAAuB,IAAM,gBAAgB,CAAC;IAEpD,MAAM,eAAe;QACnB;QACA,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,MAAM,cAAc,CAAC;QACnB,IAAI,CAAC,MAAM,OAAO;QAClB,MAAM,QAAQ,KAAK,KAAK,CAAC;QACzB,IAAI,MAAM,MAAM,IAAI,GAAG;YACrB,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,EAAE,EAAE,WAAW;QAChD;QACA,OAAO,IAAI,CAAC,EAAE,CAAC,WAAW;IAC5B;IAEA,qBACE,6LAAC;QAAO,WAAU;;0BAEhB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAyB;;;;;;kCACzC,6LAAC;wBAAG,WAAU;kCAAkC;;;;;;kCAChD,6LAAC;wBAAO,WAAU;kCAChB,cAAA,6LAAC,2JAAM;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAKtB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAK,WAAU;8CACb,CAAA,iBAAA,2BAAA,KAAM,MAAM,kBACX,6LAAC;wCAAI,KAAK,KAAK,MAAM;wCAAE,KAAK,KAAK,IAAI;wCAAE,WAAU;;;;;+CAEjD,YAAY,CAAA,iBAAA,2BAAA,KAAM,IAAI,KAAI;;;;;;;;;;;0CAIhC,6LAAC;gCAAK,WAAU;0CACb,CAAA,iBAAA,2BAAA,KAAM,IAAI,KAAI;;;;;;0CAEjB,6LAAC,kKAAa;gCAAC,WAAW,AAAC,sCAAsE,OAAjC,eAAe,eAAe;;;;;;;;;;;;oBAG/F,8BACC,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC;wCAAG,WAAU;kDACX,CAAA,iBAAA,2BAAA,KAAM,IAAI,KAAI;;;;;;kDAEjB,6LAAC;wCAAK,WAAU;kDACb,CAAA,iBAAA,2BAAA,KAAM,KAAK,KAAI;;;;;;;;;;;;0CAIpB,6LAAC;0CACC,cAAA,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,gBAAgB;;sDAE/B,6LAAC;4CAAK,WAAU;sDAAwB;;;;;;sDACxC,6LAAC;4CAAK,WAAU;sDAAoC;;;;;;;;;;;;;;;;;0CAMxD,6LAAC;0CACC,cAAA,6LAAC,0KAAI;oCACH,MAAK;oCACL,WAAU;oCACV,SAAS,IAAM,gBAAgB;;sDAE/B,6LAAC;4CAAK,WAAU;sDAAwB;;;;;;sDACxC,6LAAC;4CAAK,WAAU;sDAAoC;;;;;;;;;;;;;;;;;0CAMxD,6LAAC;0CACC,cAAA,6LAAC;oCACC,SAAS;oCACT,WAAU;;sDAEV,6LAAC;4CAAK,WAAU;sDAAU;;;;;;sDAC1B,6LAAC;4CAAK,WAAU;sDAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUtD;GAzGwB;;QAEG,uIAAY;;;KAFf","debugId":null}},
    {"offset": {"line": 656, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_company/CareFoundation/Care-Foundation-Frontend/src/components/user/UserLayout.jsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport UserSidebar from \"./UserSidebar\";\r\nimport UserHeader from \"./UserHeader\";\r\n\r\nconst UserLayout = ({ children }) => {\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50\">\r\n      <UserSidebar />\r\n      <div className=\"flex-1 ml-64\">\r\n        <UserHeader />\r\n        <main className=\"pt-16 px-8 pb-6 min-h-screen\">{children}</main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserLayout;\r\n\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKA,MAAM,aAAa;QAAC,EAAE,QAAQ,EAAE;IAC9B,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,uJAAW;;;;;0BACZ,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,sJAAU;;;;;kCACX,6LAAC;wBAAK,WAAU;kCAAgC;;;;;;;;;;;;;;;;;;AAIxD;KAVM;uCAYS","debugId":null}},
    {"offset": {"line": 719, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_company/CareFoundation/Care-Foundation-Frontend/src/services/couponService.js"],"sourcesContent":["import api from '../utils/api';\n\n// Coupon Service\nexport const couponService = {\n  // Get all coupons\n  getCoupons: async (params = {}) => {\n    try {\n      const response = await api.get('/coupons', { params });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  // Get single coupon\n  getCoupon: async (id) => {\n    try {\n      const response = await api.get(`/coupons/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  // Create coupon\n  createCoupon: async (couponData) => {\n    try {\n      const response = await api.post('/coupons', couponData);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  // Update coupon\n  updateCoupon: async (id, couponData) => {\n    try {\n      const response = await api.put(`/coupons/${id}`, couponData);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  // Delete coupon\n  deleteCoupon: async (id) => {\n    try {\n      const response = await api.delete(`/coupons/${id}`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  // Redeem coupon\n  redeemCoupon: async (id, redemptionData) => {\n    try {\n      const response = await api.post(`/coupons/${id}/redeem`, redemptionData);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  // Get coupon by code\n  getCouponByCode: async (code) => {\n    try {\n      const response = await api.get(`/coupons/code/${code}`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  // Get user's coupons\n  getUserCoupons: async (params = {}) => {\n    try {\n      const response = await api.get('/coupons/my-coupons', { params });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  // Get coupon analytics\n  getCouponAnalytics: async (id) => {\n    try {\n      const response = await api.get(`/coupons/${id}/analytics`);\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  },\n\n  // Get coupons by category\n  getCouponsByCategory: async (category) => {\n    try {\n      const response = await api.get('/coupons', { \n        params: { category, limit: 12 } \n      });\n      return response.data;\n    } catch (error) {\n      throw error.response?.data || error;\n    }\n  }\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 845, "column": 0}, "map": {"version":3,"sources":["file:///D:/Project_company/CareFoundation/Care-Foundation-Frontend/src/app/redeem-coupon/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { useRouter, useSearchParams, usePathname } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport UserLayout from '@/components/user/UserLayout';\r\nimport useAuthStore from '@/store/authStore';\r\nimport { couponService } from '@/services/couponService';\r\nimport toast from 'react-hot-toast';\r\nimport Cookies from 'js-cookie';\r\nimport { BiChevronUp, BiChevronDown } from 'react-icons/bi';\r\n\r\nexport default function RedeemCouponPage() {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const searchParams = useSearchParams();\r\n  const { user, isAuthenticated, isLoading: authLoading, initializeAuth, getCurrentUser } = useAuthStore();\r\n  const [isInitializing, setIsInitializing] = useState(true);\r\n  const hasInitialized = useRef(false);\r\n  const isUsedCoupons = searchParams.get('used') === 'true';\r\n\r\n  // Monitor pathname changes to detect unauthorized redirects\r\n  useEffect(() => {\r\n    console.log(\"üîç PATHNAME MONITOR: Current pathname:\", pathname);\r\n    if (pathname !== '/redeem-coupon' && !pathname.startsWith('/redeem-coupon')) {\r\n      console.error(\"üö® UNEXPECTED PATHNAME CHANGE! Current:\", pathname, \"Expected: /redeem-coupon\");\r\n      // If we're authenticated and somehow navigated away, redirect back\r\n      if (isAuthenticated && pathname !== '/login') {\r\n        console.log(\"üîÑ Redirecting back to /redeem-coupon\");\r\n        router.replace('/redeem-coupon');\r\n      }\r\n    }\r\n  }, [pathname, isAuthenticated, router]);\r\n  \r\n  console.log(\"=== REDEEM COUPON PAGE RENDERED ===\");\r\n  console.log(\"isAuthenticated:\", isAuthenticated);\r\n  console.log(\"authLoading:\", authLoading);\r\n  console.log(\"isInitializing:\", isInitializing);\r\n  console.log(\"user:\", user);\r\n  console.log(\"Current pathname (from hook):\", pathname);\r\n  if (typeof window !== 'undefined') {\r\n    console.log(\"Current window.location.pathname:\", window.location.pathname);\r\n  }\r\n  \r\n  const [coupons, setCoupons] = useState([]);\r\n  const [isLoadingCoupons, setIsLoadingCoupons] = useState(false);\r\n  const [entriesPerPage, setEntriesPerPage] = useState(10);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Prevent multiple initializations\r\n    if (hasInitialized.current) {\r\n      console.log(\"Already initialized, skipping\");\r\n      return;\r\n    }\r\n\r\n    const checkAuth = async () => {\r\n      hasInitialized.current = true;\r\n      console.log(\"=== REDEEM COUPON: CHECKING AUTH ===\");\r\n      const token = Cookies.get('token');\r\n      console.log(\"Token exists:\", !!token);\r\n      \r\n      if (token) {\r\n        console.log(\"Initializing auth...\");\r\n        initializeAuth();\r\n        try {\r\n          await getCurrentUser();\r\n          console.log(\"getCurrentUser successful\");\r\n        } catch (error) {\r\n          console.error(\"Failed to get current user:\", error);\r\n        }\r\n      } else {\r\n        console.log(\"No token found\");\r\n      }\r\n      \r\n      // Always set isInitializing to false after checking\r\n      console.log(\"Setting isInitializing to false\");\r\n      setIsInitializing(false);\r\n    };\r\n\r\n    checkAuth();\r\n  }, [initializeAuth, getCurrentUser]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"=== REDEEM COUPON: AUTH CHECK EFFECT ===\");\r\n    console.log(\"isInitializing:\", isInitializing);\r\n    console.log(\"authLoading:\", authLoading);\r\n    console.log(\"isAuthenticated:\", isAuthenticated);\r\n    console.log(\"user:\", !!user);\r\n    console.log(\"Current window.location.pathname:\", typeof window !== 'undefined' ? window.location.pathname : 'N/A');\r\n    \r\n    // Check if token exists in cookies - if token exists, wait for auth to load\r\n    const token = typeof window !== 'undefined' ? Cookies.get('token') : null;\r\n    console.log(\"Token exists:\", !!token);\r\n    \r\n    // If token exists, DON'T redirect - wait for auth to initialize\r\n    if (token) {\r\n      console.log(\"‚úÖ Token found, waiting for auth to initialize - NO REDIRECT\");\r\n      return; // Don't redirect if token exists - auth is still loading\r\n    }\r\n    \r\n    // ONLY redirect to login if:\r\n    // 1. Initialization is complete\r\n    // 2. Auth is not loading\r\n    // 3. User is NOT authenticated\r\n    // 4. No token exists\r\n    // 5. No user data\r\n    if (!isInitializing && !authLoading && !isAuthenticated && !user && !token) {\r\n      console.log(\"‚ùå User not authenticated and no token, redirecting to login\");\r\n      toast.error('Please login to view coupons');\r\n      router.push('/login?redirect=/redeem-coupon');\r\n      return; // Exit early to prevent any other redirects\r\n    }\r\n    \r\n    // If authenticated or user exists, do NOT redirect anywhere - stay on this page\r\n    if (isAuthenticated || user) {\r\n      console.log(\"‚úÖ User authenticated, staying on /redeem-coupon page - NO REDIRECT\");\r\n      // Explicitly check we're on the right page\r\n      if (typeof window !== 'undefined' && window.location.pathname !== '/redeem-coupon') {\r\n        console.log(\"‚ö†Ô∏è WARNING: Pathname mismatch! Current:\", window.location.pathname, \"Expected: /redeem-coupon\");\r\n      }\r\n    }\r\n  }, [isAuthenticated, authLoading, isInitializing, router, user]);\r\n\r\n  useEffect(() => {\r\n    const loadCoupons = async () => {\r\n      if (!isAuthenticated || !user) return;\r\n      \r\n      try {\r\n        setIsLoadingCoupons(true);\r\n        const response = await couponService.getUserCoupons({ used: isUsedCoupons });\r\n        setCoupons(response.data || []);\r\n      } catch (error) {\r\n        console.error('Failed to load coupons:', error);\r\n        toast.error('Failed to load coupons');\r\n      } finally {\r\n        setIsLoadingCoupons(false);\r\n      }\r\n    };\r\n\r\n    if (isAuthenticated && user) {\r\n      loadCoupons();\r\n    }\r\n  }, [isAuthenticated, user, isUsedCoupons]);\r\n\r\n  // Filter coupons\r\n  const filteredCoupons = coupons.filter(coupon => {\r\n    if (!searchQuery) return true;\r\n    const query = searchQuery.toLowerCase();\r\n    return (\r\n      coupon.code?.toLowerCase().includes(query) ||\r\n      coupon.title?.toLowerCase().includes(query) ||\r\n      coupon.category?.toLowerCase().includes(query)\r\n    );\r\n  });\r\n\r\n  // Pagination\r\n  const totalPages = Math.ceil(filteredCoupons.length / entriesPerPage);\r\n  const startIndex = (currentPage - 1) * entriesPerPage;\r\n  const endIndex = startIndex + entriesPerPage;\r\n  const currentCoupons = filteredCoupons.slice(startIndex, endIndex);\r\n\r\n  // If we have user data, show content immediately (don't wait for isInitializing)\r\n  // This prevents the page from getting stuck in loading state\r\n  if (!user && isInitializing) {\r\n    console.log(\"=== REDEEM COUPON: SHOWING LOADING (no user yet) ===\");\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-500 mx-auto mb-4\"></div>\r\n          <p className=\"text-gray-600 text-lg\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // If not authenticated after a reasonable time, redirect to login\r\n  if (!isInitializing && !authLoading && !isAuthenticated && !user) {\r\n    console.log(\"=== REDEEM COUPON: NOT AUTHENTICATED, RETURNING NULL ===\");\r\n    return null; // The useEffect will handle redirect\r\n  }\r\n\r\n  // If we have user, show content even if isInitializing is still true\r\n  if (user || isAuthenticated) {\r\n    console.log(\"=== REDEEM COUPON: USER/IS_AUTHENTICATED TRUE, SHOWING CONTENT ===\");\r\n  }\r\n\r\n  console.log(\"=== REDEEM COUPON: RENDERING PAGE CONTENT ===\");\r\n  console.log(\"Final check - pathname (from hook):\", pathname);\r\n  if (typeof window !== 'undefined') {\r\n    console.log(\"Final check - window.location.pathname:\", window.location.pathname);\r\n  }\r\n  \r\n  return (\r\n    <UserLayout>\r\n      <div className=\"py-6\">\r\n        {/* Heading */}\r\n        <div className=\"mb-6\">\r\n          <h1 className=\"text-3xl font-bold text-blue-900 mb-2\">\r\n            Coupon Generated Data\r\n          </h1>\r\n          <nav className=\"text-gray-500 text-sm\">\r\n            <ol className=\"flex space-x-2 items-center\">\r\n              <li>\r\n                <Link href=\"/dashboard\" className=\"hover:underline text-gray-600 hover:text-blue-600\">\r\n                  Home\r\n                </Link>\r\n              </li>\r\n              <li className=\"text-gray-400\">/</li>\r\n              <li>\r\n                <Link href=\"/redeem-coupon\" className=\"hover:underline text-gray-600 hover:text-blue-600\">\r\n                  Coupon Data\r\n                </Link>\r\n              </li>\r\n              <li className=\"text-gray-400\">/</li>\r\n              <li className=\"text-gray-700\">All Coupons</li>\r\n            </ol>\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Coupon Data Table Section */}\r\n        <div className=\"bg-white rounded-lg shadow-md border border-gray-200 p-6\">\r\n          <h2 className=\"text-xl font-bold text-blue-900 mb-4\">Coupon Data Table</h2>\r\n          \r\n          {/* Table Controls */}\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <select\r\n                value={entriesPerPage}\r\n                onChange={(e) => {\r\n                  setEntriesPerPage(Number(e.target.value));\r\n                  setCurrentPage(1);\r\n                }}\r\n                className=\"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none\"\r\n              >\r\n                <option value={10}>10</option>\r\n                <option value={25}>25</option>\r\n                <option value={50}>50</option>\r\n                <option value={100}>100</option>\r\n              </select>\r\n              <span className=\"text-sm text-gray-600\">entries per page</span>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search...\"\r\n                value={searchQuery}\r\n                onChange={(e) => {\r\n                  setSearchQuery(e.target.value);\r\n                  setCurrentPage(1);\r\n                }}\r\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Table */}\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"bg-green-100\">\r\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      Coupon Code\r\n                      <div className=\"flex flex-col\">\r\n                        <BiChevronUp className=\"text-xs text-gray-400\" />\r\n                        <BiChevronDown className=\"text-xs text-gray-400\" />\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      Coupon Amount\r\n                      <div className=\"flex flex-col\">\r\n                        <BiChevronUp className=\"text-xs text-gray-400\" />\r\n                        <BiChevronDown className=\"text-xs text-gray-400\" />\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      Coupon For\r\n                      <div className=\"flex flex-col\">\r\n                        <BiChevronUp className=\"text-xs text-gray-400\" />\r\n                        <BiChevronDown className=\"text-xs text-gray-400\" />\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      Creation Date\r\n                      <div className=\"flex flex-col\">\r\n                        <BiChevronUp className=\"text-xs text-gray-400\" />\r\n                        <BiChevronDown className=\"text-xs text-gray-400\" />\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                  <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">\r\n                    <div className=\"flex items-center gap-1\">\r\n                      Status\r\n                      <div className=\"flex flex-col\">\r\n                        <BiChevronUp className=\"text-xs text-gray-400\" />\r\n                        <BiChevronDown className=\"text-xs text-gray-400\" />\r\n                      </div>\r\n                    </div>\r\n                  </th>\r\n                  {isUsedCoupons && (\r\n                    <th className=\"px-4 py-3 text-left text-sm font-semibold text-gray-700\">\r\n                      <div className=\"flex items-center gap-1\">\r\n                        Used Date\r\n                        <div className=\"flex flex-col\">\r\n                          <BiChevronUp className=\"text-xs text-gray-400\" />\r\n                          <BiChevronDown className=\"text-xs text-gray-400\" />\r\n                        </div>\r\n                      </div>\r\n                    </th>\r\n                  )}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {isLoadingCoupons ? (\r\n                  <tr>\r\n                    <td colSpan={isUsedCoupons ? 6 : 5} className=\"px-4 py-8 text-center\">\r\n                      <div className=\"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-500 mx-auto\"></div>\r\n                      <p className=\"text-gray-600 mt-2\">Loading coupons...</p>\r\n                    </td>\r\n                  </tr>\r\n                ) : currentCoupons.length > 0 ? (\r\n                  currentCoupons.map((coupon, index) => (\r\n                    <tr\r\n                      key={coupon._id}\r\n                      className={`border-b border-gray-100 ${index % 2 === 0 ? 'bg-white' : 'bg-gray-50'}`}\r\n                    >\r\n                      <td className=\"px-4 py-3 text-sm text-gray-900 font-medium\">\r\n                        {coupon.code || 'N/A'}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                        {coupon.value?.isPercentage \r\n                          ? `${coupon.value.percentage}% OFF`\r\n                          : `‚Çπ${coupon.value?.amount || 0}`\r\n                        }\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                        {coupon.title || coupon.category || 'N/A'}\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                        {coupon.createdAt \r\n                          ? new Date(coupon.createdAt).toLocaleDateString('en-GB', {\r\n                              day: '2-digit',\r\n                              month: '2-digit',\r\n                              year: 'numeric'\r\n                            })\r\n                          : 'N/A'\r\n                        }\r\n                      </td>\r\n                      <td className=\"px-4 py-3 text-sm\">\r\n                        <span className={`px-2 py-1 rounded-full text-xs font-semibold ${\r\n                          coupon.isUsed || coupon.status === 'used'\r\n                            ? 'bg-green-100 text-green-800'\r\n                            : coupon.status === 'expired'\r\n                            ? 'bg-red-100 text-red-800'\r\n                            : 'bg-yellow-100 text-yellow-800'\r\n                        }`}>\r\n                          {coupon.isUsed || coupon.status === 'used' ? 'Used' : coupon.status || 'Unused'}\r\n                        </span>\r\n                      </td>\r\n                      {isUsedCoupons && (\r\n                        <td className=\"px-4 py-3 text-sm text-gray-700\">\r\n                          {coupon.usedAt || coupon.redeemedAt\r\n                            ? new Date(coupon.usedAt || coupon.redeemedAt).toLocaleDateString('en-GB', {\r\n                                day: '2-digit',\r\n                                month: '2-digit',\r\n                                year: 'numeric'\r\n                              })\r\n                            : 'N/A'\r\n                          }\r\n                        </td>\r\n                      )}\r\n                    </tr>\r\n                  ))\r\n                ) : (\r\n                  <tr>\r\n                    <td colSpan={isUsedCoupons ? 6 : 5} className=\"px-4 py-8 text-center text-gray-500\">\r\n                      No entries found\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {totalPages > 1 && (\r\n            <div className=\"flex items-center justify-between mt-4 pt-4 border-t border-gray-200\">\r\n              <div className=\"text-sm text-gray-600\">\r\n                Showing {startIndex + 1} to {Math.min(endIndex, filteredCoupons.length)} of {filteredCoupons.length} entries\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                  disabled={currentPage === 1}\r\n                  className=\"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\r\n                >\r\n                  Previous\r\n                </button>\r\n                <span className=\"text-sm text-gray-600\">\r\n                  Page {currentPage} of {totalPages}\r\n                </span>\r\n                <button\r\n                  onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}\r\n                  disabled={currentPage === totalPages}\r\n                  className=\"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\r\n                >\r\n                  Next\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </UserLayout>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}